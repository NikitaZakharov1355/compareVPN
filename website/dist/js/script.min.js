!function s(o,n,i){function l(e,t){if(!n[e]){if(!o[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(r)return r(e,!0);throw new Error("Cannot find module '"+e+"'")}t=n[e]={exports:{}};o[e][0].call(t.exports,function(t){var a=o[e][1][t];return l(a||t)},t,t.exports,s,o,n,i)}return n[e].exports}for(var r="function"==typeof require&&require,t=0;t<i.length;t++)l(i[t]);return l}({1:[function(t,a,e){jQuery(document).ready(function(n){n(".scroll-top").click(function(){n("html, body").animate({scrollTop:0},600)}),n(".search-form-wrap").submit(function(){return n(".search-form-btn").click(),!1});var t=1;function a(a,e){var t=n(".search-form-field").val(),s=[],o=[],t=(n('.tag-filter input[name="tags[]"]:checked').each(function(){s.push(n(this).val())}),n('.tag-filter input[name="types[]"]:checked').each(function(){o.push(n(this).val())}),0==o.length&&(o=["post","vpn"]),{action:"load_more_posts",page:a,search:t,tags:s.join(","),types:o.join(",")});n(".post_loop").addClass("loading"),n.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:t,success:function(t){n(".post_main-title-h2 .title_inner span").text(n(".search-form-field").val()),console.log(t.data),t.success?t.data.has_posts?((e.hasClass("custom-checkbox-input")||e.hasClass("search-form-btn"))&&n(".post_loop").html(""),n(".post_loop").append(t.data.posts),n(".load_more-post").show(),n(".load_more-post").removeAttr("disabled")):1==a?n(".post_loop").html(""):n(".load_more-post").hide():n(".load_more-post").attr("disabled",!0),n(".post_loop").removeClass("loading")},error:function(){n(".load_more-post").attr("disabled",!0),alert("An error occurred. Please try again.")}})}n(".tag-filter input, .search-form-btn").off("click").on("click",function(){n(this).parent().hasClass("tag-filter-tab-title")&&(n(".tag-filter-tab-title").removeClass("active"),n(this).parent().addClass("active")),n(".tag-filter-tab-post").hasClass("active")?n(".tab-filter-post-wrap").fadeIn():n(".tab-filter-post-wrap").fadeOut(),a(t=1,n(this))}),n(".load_more-post").off("click").on("click",function(){a(++t,n(this))});var e,s,o=1;n(".load_more-comments").on("click",function(){var a=n(this),t=a.data("post-id");n.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"load_more_comments",post_id:t,paged:o},beforeSend:function(){a.text("Loading...")},success:function(t){t?(n(".comment-list").append(t),o++,a.text("Load More")):a.text("No More Comments").attr("disabled",!0)}})}),n(".rating-star").on("click",function(){var t=n(this).data("rating");n("#comment_rating").val(t),n(".rating-star").removeClass("selected"),n(this).addClass("selected").prevAll().addClass("selected"),n("#rating-feedback").text("You selected "+t+" star"+(1<t?"s":""))}),n("body").on("click",".comment-like-button",function(t){t.preventDefault(),n(this).addClass("active");var a=n(this),t=a.data("comment-id");n.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:{action:"like_comment",comment_id:t},success:function(t){t.success?a.closest(".comment").find(".comment-actions-like-counter").text(t.data.like_count+" liked"):console.log(t.data)},error:function(){console.log("An error occurred. Please try again.")}})}),n("table").wrap('<div class="vpn-table-wrapper-inner"></div>').wrap('<div class="vpn-table-wrapper"></div>'),n(window).width()<768&&(n(".header").append('<div class="header_nav-mobile"></div>'),e=n(".header_nav"),s=n(".header_action"),n(".header_nav-mobile").append(e).append(s),n(".header_nav-button").click(function(){n(".header_nav-mobile").toggleClass("active")}),n(".header_nav-mobile ul:not(.sub-menu) > li.menu-item-has-children > a").click(function(){return!!n(this).next(".sub-menu").hasClass("active")||(n(this).next(".sub-menu").addClass("active"),!1)}),n(".header_nav-mobile ul:not(.sub-menu) > li.menu-item-has-children").click(function(){n(this).children(".sub-menu").hasClass("active")?n(this).children(".sub-menu").removeClass("active"):n(this).children(".sub-menu").addClass("active")}),n(".footer_info-socials").appendTo(n(".footer_top"))),n(".header_action-search-toggle, .header_action-lang-toggle").click(function(){n(this).next().slideToggle()}),n("*[data-toggle]").click(function(){var t=n(this).data("toggle");n("#"+t).slideToggle()}),n(".comment-form-cookies-consent input").click(function(){n(this).parent().toggleClass("checked")}),n(".faq_item-head").click(function(){n(this).next().slideToggle()});var i=1;n(".post_main h2").each(function(){var t;if(""==(t=(0<n(this).find(".title_inner").length?n(this).find(".title_inner"):n(this)).text()))return!0;var a="section-"+i;i++,n(this).attr("id",a),n("#toc-list").append(`<li><a href="#${a}">${t}</a></li`)}),n(".post_aside-contents-list-scroll").height()<432&&n(".post_aside-contents-list-scroll").parent().addClass("scrolled-to-bottom"),n(window).scroll(function(){0<n(this).scrollTop()?n(".scroll-top-wrap").fadeIn():n(".scroll-top-wrap").fadeOut();let t=n(".post_aside-contents-list-scroll a"),a=n(window).scrollTop();t.each(function(){n(n(this).attr("href")).offset().top<=a+10&&(n(this).parent().nextAll().removeClass("active"),n(this).parent().addClass("active"),n(this).parent().prevAll().addClass("active"))}),0<a&&!n("#contents-list").hasClass("toggled_nav")&&!n("body").hasClass("single-vpn")&&n("#contents-list").fadeOut().addClass("toggled_nav")}),n(".post_aside-contents-list-scroll").on("scroll",function(){var t=n(".post_aside-contents-list-scroll"),a=t[0].scrollHeight;t.scrollTop()+t.parent().height()==a?t.parent().addClass("scrolled-to-bottom"):t.parent().removeClass("scrolled-to-bottom")}),n("#commentform").on("submit",function(t){var a,e;n("body").hasClass("single-vpn")&&(a=n(".post_main-author-descr-action-rating").data("post-id"),e=n(".rating-star.selected").last().data("rating"),n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:{action:"vpn_rating",post_id:a,rating:e},success:function(t){t.success,n("#rating-feedback").text(t.data.message)}}))}),n(".rating-star").on("click",function(){var t,a;n("body").hasClass("single-vpn")||(t=n(this).closest(".post_main-author-descr-action-rating").data("post-id"),a=n(this).data("rating"),n.ajax({url:"/wp-admin/admin-ajax.php",method:"POST",data:{action:"vpn_rating",post_id:t,rating:a},success:function(t){t.success,n("#rating-feedback").text(t.data.message)}}))})})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInIiLCJyZWFkeSIsInMiLCJvIiwidSIsIm4iLCJ0IiwiYSIsInJlcXVpcmUiLCJpIiwiRXJyb3IiLCJmIiwiZXhwb3J0cyIsImNhbGwiLCJlIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIiQiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJzdWJtaXQiLCJzZWFyY2giLCJwYWdlIiwiZWwiLCJ0YWdzIiwidmFsIiwidHlwZXMiLCJkYXRhIiwiZWFjaCIsInB1c2giLCJ0aGlzIiwiYWN0aW9uIiwiam9pbiIsImFqYXgiLCJhZGRDbGFzcyIsInVybCIsInR5cGUiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJjb25zb2xlIiwidGV4dCIsImhhc0NsYXNzIiwiaGFzX3Bvc3RzIiwiaHRtbCIsImFwcGVuZCIsInNob3ciLCJwb3N0cyIsInJlbW92ZUF0dHIiLCJoaWRlIiwiYXR0ciIsInJlbW92ZUNsYXNzIiwiZXJyb3IiLCJhbGVydCIsIm9mZiIsIm9uIiwicGFyZW50IiwiZmFkZUluIiwiZmFkZU91dCIsImdldF9yZXNvdXJjZXNfbGlzdCIsInBvc3RJZCIsImJ1dHRvbiIsInBhZ2VkIiwiYmVmb3JlU2VuZCIsInJhdGluZyIsInByZXZBbGwiLCJwcmV2ZW50RGVmYXVsdCIsImNvbW1lbnRJZCIsImNvbW1lbnRfaWQiLCJjbG9zZXN0IiwiZmluZCIsImxpa2VfY291bnQiLCJsb2ciLCJ1cGRhdGVfbW9iaWxlIiwid3JhcCIsIndpbmRvdyIsIndpZHRoIiwibmF2IiwidG9nZ2xlQ2xhc3MiLCJuZXh0IiwiY2hpbGRyZW4iLCJhcHBlbmRUbyIsInNsaWRlVG9nZ2xlIiwiaWQiLCJpbmRleCIsInNjcm9sbCIsImxpbmtzIiwic2Nyb2xsUG9zIiwidGFyZ2V0IiwibmV4dEFsbCIsInNjcm9sbEhlaWdodCIsIiRibG9jayIsImJsb2NrSGVpZ2h0IiwiZXZlbnQiLCJsYXN0IiwibWV0aG9kIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUFBLENBQUFBLFNBQU9DLEVBQUFBLEVBQUFBLEVBQVNDLEdBQUNDLFNBQU1DLEVBQUFDLEVBQUFDLEdBQVUsR0FBQyxDQUFBQyxFQUFBRixHQUFBLENBQUEsR0FBQSxDQUFBRyxFQUFBSCxHQUFBLENBQUEsSUFBQUksRUFBQSxZQUFBLE9BQUFDLFNBQUFBLFFBQUEsR0FBQSxDQUFBSixHQUFBRyxFQUFBLE9BQUFBLEVBQUFKLEVBQUEsQ0FBQSxDQUFBLEVBQUEsR0FBQU0sRUFBQSxPQUFBQSxFQUFBTixFQUFBLENBQUEsQ0FBQSxFQUFBLE1BQUEsSUFBQU8sTUFBQSx1QkFBQVAsRUFBQSxHQUFBLENBQUEsQ0FBQVEsRUFBQU4sRUFBQUYsR0FBQSxDQUFBUyxRQUFBLEVBQUEsRUFBQU4sRUFBQUgsR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFFLEdBQUEsSUFBQVQsRUFBQUMsRUFBQUgsR0FBQSxHQUFBVyxHQUFBLE9BQUFaLEVBQUFHLEdBQUFTLENBQUEsQ0FBQSxFQUFBSCxFQUFBQSxFQUFBQyxRQUFBRSxFQUFBUixFQUFBRCxFQUFBTCxDQUFBLENBQUEsQ0FBQSxPQUFBSyxFQUFBRixHQUFBUyxPQUFBLENBQUEsSUFBQSxJQUFBSCxFQUFBLFlBQUEsT0FBQUQsU0FBQUEsUUFBQUwsRUFBQSxFQUFBQSxFQUFBSCxFQUFBZSxPQUFBWixDQUFBLEdBQUFELEVBQUFGLEVBQUFHLEVBQUEsRUFBQSxPQUFBRCxDQUFBLEVBQUEsQ0FBQWMsRUFBQSxDQUFBLFNBQUFSLEVBQUFTLEVBQUFMLEcsT0FFOUJiLFFBQUEsRUFBQUUsTUFBQSxTQUFBaUIsRyxFQUdJQSxhQUFFLEVBQWFDLE1BQUNDLFcsRUFBVUMsWUFBVyxFQUFBRCxRQUFBLENBQUdDLFVBQU0sQ0FDaEQsRUFBQSxHQUFBLEMsS0FLRUgsbUJBQUUsRUFBbUJJLE9BQU8sV0FFOUIsT0FERUosRUFBQSxrQkFBWSxFQUFBQyxNQUFBLEVBQ2QsQ0FBQSxDQUVGLENBQUEsRSxpQkE2QklJLEVBQVdDLEVBQUFDLEdBQ2YsSUFBSUMsRUFBU1IsRUFBQSxvQkFBQSxFQUFBUyxJQUFBLEVBQ1RDLEVBQUssRyxLQWlCTEMsRyxFQWJBSCwwQ0FBd0IsRUFBQUksS0FBQSxXQUMxQkosRUFBQUssS0FBQWIsRUFBQWMsSUFBQSxFQUFBTCxJQUFBLENBQUEsQyxLQUlFQywyQ0FBeUIsRUFBQUUsS0FBQSxXQUMzQkYsRUFBQUcsS0FBQWIsRUFBQWMsSUFBQSxFQUFBTCxJQUFBLENBQUEsQ0FFRixDQUFBLEVBQ3FCLEdBQWpCQyxFQUFRYixTQUNaYSxFQUFBLENBQUEsT0FBQSxRQUdZLENBQ1JLLE9BQVFULGtCQUNSQSxLQUFRQSxFQUNSRCxPQUFRRyxFQUFnQkEsS0FBQUEsRUFBQVEsS0FBQSxHQUFBLEVBRTNCTixNQUFBQSxFQUFBTSxLQUFBLEdBQUEsQ0FFRGhCLEdBRUFBLEVBQUVpQixZQUFLLEVBQUFDLFNBQUEsU0FBQSxFLEVBQ0hDLEtBQUssQ0FDTEMsSUFBSSwyQkFDSlQsS0FBTUEsT0FDTlUsS0FBQUEsRSxRQUNNLFNBQUFDLEdBQ0ZDLEVBQUFBLHVDQUEwQixFQUFBQyxLQUFBeEIsRUFBQSxvQkFBQSxFQUFBUyxJQUFBLENBQUEsRUFFMUJjLFFBQUlELElBQVFBLEVBQVFYLElBQUUsRUFDbEJXLEVBQUlBLFFBQ0FBLEVBQU9HLEtBQVNDLFlBQ1ZuQixFQUFBa0IsU0FBWSx1QkFBWSxHQUFBbEIsRUFBQWtCLFNBQUEsaUJBQUEsSUFDOUJ6QixFQUFBLFlBQUEsRUFBQTJCLEtBQUEsRUFBQSxFQUVBM0IsRUFBRSxZQUFBLEVBQUE0QixPQUFtQkMsRUFBTWxCLEtBQUFtQixLQUFBLEVBQzNCOUIsRUFBRSxpQkFBaUIsRUFBRStCLEtBQUFBLEVBQ3hCL0IsRUFBQSxpQkFBa0IsRUFBQytCLFdBQUEsVUFBQSxHQUNBSixHQUFkckIsRUFDTE4sRUFBQSxZQUFNLEVBQUEyQixLQUFBLEVBQUEsRUFFUDNCLEVBQUEsaUJBQUEsRUFBQWdDLEtBQUEsRUFHSmhDLEVBQUEsaUJBQUEsRUFBQWlDLEtBQUEsV0FBQSxDQUFBLENBQUEsRUFHSGpDLEVBQUEsWUFBQSxFQUFBa0MsWUFBQSxTQUFBLENBQ0RDLEUsTUFDTSxXQUNGQyxFQUFBQSxpQkFBTSxFQUFBSCxLQUFBLFdBQUEsQ0FBQSxDQUFBLEVBQ1ZHLE1BQUEsc0NBQUEsQ0FDRixDQUNOLENBQUEsQyxHQWxGSSxxQ0FBNkIsRUFBQUMsSUFBQSxPQUFBLEVBQXNCQyxHQUFFLFFBQUEsV0FDL0N0QyxFQUFBYyxJQUFBLEVBQUF5QixPQUFBLEVBQUFkLFNBQXlCUyxzQkFBcUIsSUFDaERsQyxFQUFFLHVCQUF1QixFQUFDa0MsWUFBUyxRQUFBLEVBQ3ZDbEMsRUFBQWMsSUFBQSxFQUFBeUIsT0FBQSxFQUFBckIsU0FBQSxRQUFBLEdBR01sQixFQUFBLHNCQUF3QixFQUFDd0MsU0FBUSxRQUFBLEVBQ3RDeEMsRUFBQSx1QkFBTSxFQUFBd0MsT0FBQSxFQUVQeEMsRUFBQSx1QkFBQSxFQUFBeUMsUUFBQSxFQUlGQyxFQURFQSxFQUFBQSxFQUNGMUMsRUFBQWMsSUFBQSxDQUFBLENBR0ZkLENBQUMsRSxFQUNHTSxpQkFBTSxFQUFBK0IsSUFBQSxPQUFBLEVBQUFDLEdBQUEsUUFBQSxXQUVSSSxFQURFQSxFQUFBQSxFQUNGMUMsRUFBQWMsSUFBQSxDQUFBLENBRUYsQ0FBQSxFLElBa0pvQkMsRUFDRkEsRSxNQS9FVixxQkFBb0IsRUFBQXVCLEdBQUEsUUFBQSxXQUNwQixJQUFJSyxFQUFTQyxFQUFBQSxJQUFNLEVBRWpCM0IsRUFBSzJCLEVBQUFqQyxLQUFBLFNBQUEsRSxFQUNIUSxLQUFLLENBQ0xDLElBQUksMkJBQ0pULEtBQU0sTyxLQUNGSSxDQUNBQSxPQUFBLHFCQUVBOEIsUUFBT0EsRUFDVkEsTUFBQUEsQ0FDREMsRSxXQUNXdEIsV0FDVm9CLEVBQUFwQixLQUFBLFlBQUEsQ0FDREgsRSxRQUNRQyxTQUFVQSxHQUNSQSxHQUNGdUIsRUFBQUEsZUFBUyxFQUFBakIsT0FBQU4sQ0FBQSxFQUNUc0IsQ0FBQUEsR0FDSEEsRUFBTXBCLEtBQUEsV0FBQSxHQUVQb0IsRUFBQXBCLEtBQUEsa0JBQUEsRUFBQVMsS0FBQSxXQUFBLENBQUEsQ0FBQSxDQUVOLENBQ0osQ0FBQSxDLEtBS0UsY0FBYyxFQUFDSyxHQUFJLFFBQU8sV0FDMUJ0QyxJQUFFK0MsRUFBQS9DLEVBQUFjLElBQWlCLEVBQUVMLEtBQUlzQyxRQUFTLEVBQ2xDL0MsRUFBRSxpQkFBZ0JrQyxFQUFBQSxJQUFBQSxDQUFZLEVBQzlCbEMsRUFBRSxjQUFjLEVBQUNrQyxZQUFZYyxVQUFVOUIsRSw0REFJekNsQixFQUFBLGtCQUFBLEVBQUF3QixLQUFBLGdCQUFBdUIsRUFBQSxTQUFBLEVBQUFBLEVBQUEsSUFBQSxHQUFBLENBRUYvQyxDQUFDLEUsRUFDR0osTUFBRXFELEVBQUFBLEdBQUFBLFFBQWtCLHVCQUFBLFNBQUFyRCxHLG1CQUlwQkksRUFBQWMsSUFBSThCLEVBQUFBLFNBQVcsUUFBSyxFQUNwQixJQUFJTSxFQUFTbEQsRUFBQWMsSUFBRzhCLEVBRWQzQixFQUFLMkIsRUFBQWpDLEtBQUEsWUFBQSxFLEVBQ0hTLEtBQUksQ0FDSkQsS0FBSyxPQUNMUixJQUFJLDJCLEtBQ0FJLENBQ0FvQyxPQUFBQSxlQUNBQSxXQUFBRCxDQUVKN0IsRSxRQUNRQyxTQUFTRCxHQUNUQyxFQUFBRCxRQUVIdUIsRUFBTVEsUUFBQSxVQUFBLEVBQUFDLEtBQUEsK0JBQUEsRUFBQTdCLEtBQUFGLEVBQUFYLEtBQUEyQyxXQUFBLFFBQUEsRUFFUC9CLFFBQUFnQyxJQUFBakMsRUFBQVgsSUFBQSxDQUVKd0IsRSxNQUNJWixXQUNKQSxRQUFBZ0MsSUFBQSxzQ0FBQSxDQUNGLENBQ0osQ0FBQSxDLEdBTUV2RCxFQUFBLE9BQVN3RCxFQUFBQSxLQUFBQSw2Q0FBZSxFQUFBQyxLQUFBLHVDQUFBLEVBRWR6RCxFQUFBMEQsTUFBQSxFQUFVQyxNQUFDL0IsRUFBTyxNQUVwQjVCLEVBQUEsU0FBVyxFQUFDNEIsT0FBQSx1Q0FBYyxFQUN0QmIsRUFBTWYsRUFBQSxhQUFLLEVBQ2JlLEVBQUFmLEVBQUEsZ0JBQTZCNEQsRUFFL0I1RCxFQUFFLG9CQUFvQixFQUFFQyxPQUFNMkQsQ0FBQSxFQUFBaEMsT0FBVWIsQ0FBQSxFLEVBQ3BDZixvQkFBRSxFQUFvQkMsTUFBRTRELFdBQzFCN0QsRUFBQSxvQkFBQSxFQUFBNkQsWUFBQSxRQUFBLENBRUY3RCxDQUFDLEUsRUFDRyxzRUFBZ0QsRUFBQUMsTUFBQSxXLE1BQzVDRCxDQUFBQSxDQUFBQSxFQUFBYyxJQUFPLEVBQUFnRCxLQUFJLFdBQUEsRUFBQXJDLFNBQUEsUUFBQSxJQUdYekIsRUFBQWMsSUFBQSxFQUFPZ0QsS0FBSyxXQUFBLEVBQUE1QyxTQUFBLFFBQUEsRUFDaEIsQ0FBQSxFQUdKbEIsQ0FBQyxFLEVBQ0csa0VBQW9ELEVBQUFDLE1BQUEsV0FDOUNELEVBQUFjLElBQU1pRCxFQUFBQSxTQUFTLFdBQWE3QixFQUFBQSxTQUFXLFFBQUMsRUFDN0NsQyxFQUFBYyxJQUFNLEVBQUFpRCxTQUFBLFdBQUEsRUFBQTdCLFlBQUEsUUFBQSxFQUVQbEMsRUFBQWMsSUFBQSxFQUFBaUQsU0FBQSxXQUFBLEVBQUE3QyxTQUFBLFFBQUEsQ0FHSmxCLENBQUMsRUFDTEEsRUFBQSxzQkFBQSxFQUFBZ0UsU0FBQWhFLEVBQUEsYUFBQSxDQUFBLEcsRUFNSkEsMERBQTRCLEVBQUFDLE1BQUEsV0FDOUJELEVBQUFjLElBQUEsRUFBQWdELEtBQUEsRUFBQUcsWUFBQSxDQUVGakUsQ0FBQyxFLEVBQ0csZ0JBQWdCLEVBQUNXLE1BQUssV0FDdEJYLElBQUVrRSxFQUFNQSxFQUFHcEQsSUFBQ21ELEVBQUFBLEtBQUFBLFFBQWUsRUFDN0JqRSxFQUFBLElBQUFrRSxDQUFBLEVBQUFELFlBQUEsQ0FFRmpFLENBQUMsRSxFQUNHQSxxQ0FBNkIsRUFBVUMsTUFBQSxXQUN6Q0QsRUFBQWMsSUFBQSxFQUFBeUIsT0FBQSxFQUFBc0IsWUFBQSxTQUFBLENBRUY3RCxDQUFDLEUsRUFDR0EsZ0JBQWVpRSxFQUFBQSxNQUFBQSxXQUNqQmpFLEVBQUFjLElBQUEsRUFBQWdELEtBQUEsRUFBQUcsWUFBQSxDQUVGLENBQUEsRUFDQWpFLElBQUVtRSxFQUFBLEUsRUFFRSxlQUFXZCxFQUFLekMsS0FBQSxXLElBSWhCWSxFLEdBRVcsS0FKVkEsR0FEMkNBLEVBQXhDeEIsRUFBSXdCLElBQUksRUFBQTZCLEtBQUssY0FBVyxFQUFBeEQsT0FDckJHLEVBQUFjLElBQUEsRUFBQXVDLEtBQUEsY0FBQSxFQUVQckQsRUFBQWMsSUFBQSxHQUZPVSxLQUFBLEdBS1AsTUFBQSxDQUFBLEVBRUEyQyxJQUFBQSxFQUFPLFdBQUFBLEVBQ1BuRSxDQUFFLEdBQ0ZBLEVBQUVjLElBQUEsRUFBQW1CLEtBQVcsS0FBRUwsQ0FBTSxFQUN2QjVCLEVBQUEsV0FBQSxFQUFBNEIsd0JBQUFzQyxNQUFBMUMsV0FBQSxDQUVGLENBQUEsRUFDTXhCLEVBQUEsa0NBQW9DdUMsRUFBQUEsT0FBU3JCLEVBQUFBLEtBQ25EbEIsRUFBQSxrQ0FBQSxFQUFBdUMsT0FBQSxFQUFBckIsU0FBQSxvQkFBQSxFLEVBR0l3QyxNQUFLLEVBQUFVLE9BQU1qRSxXQUNlcUMsRUFBcEJ4QyxFQUFBYyxJQUFBLEVBQUFYLFVBQWtCLEVBQ3ZCSCxFQUFBLGtCQUFNLEVBQUF3QyxPQUFBLEVBRVB4QyxFQUFBLGtCQUFBLEVBQUF5QyxRQUFBLEVBRUEsSUFBQTRCLEVBQU1DLEVBQUFBLG9DQUFtQyxFQUN6Q0EsRUFBQXRFLEVBQUEwRCxNQUFBLEVBQUF2RCxVQUFBLEUsRUFFSVMsS0FBTTJELFcsd0JBSU1oQyxPQUFRLEVBQUNpQyxLQUFRRixFQUFFcEMsS0FDM0JsQyxFQUFFYyxJQUFJLEVBQUV5QixPQUFPLEVBQUVyQixRQUFRLEVBQUNnQixZQUFXLFFBQUEsRUFDckNsQyxFQUFFYyxJQUFJLEVBQUV5QixPQUFPLEVBQUVTLFNBQVMsUUFBQzlCLEVBRS9CbEIsRUFBQWMsSUFBQSxFQUFBeUIsT0FBQSxFQUFBUyxRQUFBLEVBQUE5QixTQUFBLFFBQUEsRUFHSixDQUFBLEVBQ00sRUFBQW9ELEdBQWlCLENBQUM3QixFQUFBQSxnQkFBa0IsRUFBQ2hCLFNBQUEsYUFBYyxHQUFBLENBQUF6QixFQUFBLE1BQUEsRUFBQXlCLFNBQUEsWUFBQSxHQUN6RHpCLEVBQUEsZ0JBQUEsRUFBQXlDLFFBQUEsRUFBQXZCLFNBQUEsYUFBQSxDQUlKbEIsQ0FBQyxFLEVBQ0csa0NBQWUsRUFBQXNDLEdBQUEsU0FBa0MsV0FDakQsSUFBSW1DLEVBQUFBLEVBQUFBLGtDQUF1QyxFQUN2Q3RFLEVBQVl1RSxFQUFPdkUsR0FBQUEsYUFDUnVFLEVBQUdBLFVBQWUsRUFDakJDLEVBQUFBLE9BQWVGLEVBQUFBLE9BQUFBLEdBQzdCQSxFQUVEQyxFQUFNbkMsT0FBQSxFQUFBckIsU0FBQSxvQkFBQSxFQUdQd0QsRUFBQW5DLE9BQUEsRUFBQUwsWUFBQSxvQkFBQSxDQUdGbEMsQ0FBQyxFLEVBQ0MsY0FBQSxFQUFBc0MsR0FBQSxTQUFBLFNBQUFzQyxHLElBTVU3QixFQUVBQSxFLG1DQUZBQSxFQUFTL0MsRUFBRSx1Q0FBcUMsRUFBQVcsS0FBUyxTQUFBLEVBRXpEb0MsRUFBQy9DLEVBQUEsdUJBQUEsRUFBQTZFLEtBQUEsRUFBQWxFLEtBQUEsUUFBQSxFLEVBQ0hRLEtBQUssQ0FDTDJELElBQUFBLDJCQUNBbkUsT0FBTSxPLEtBQ0ZJLENBQ0FBLE9BQUEsYUFFQWdDLFFBQVFBLEVBQ1hBLE9BQUFBLENBQ0QxQixFLFFBQ1FDLFNBQVNELEdBQ1BDLEVBQUFELFFBQ0xyQixFQUFBLGtCQUFNLEVBQUF3QixLQUFBRixFQUFBWCxLQUFBb0UsT0FBQSxDQUliLENBQ04sQ0FBQSxFQUdGL0UsQ0FBQyxFLEVBQ0MsY0FBYyxFQUFBc0MsR0FBSyxRQUFRYixXQUMzQixJQUVVc0IsRUFFQUEsRUFKRy9DLEVBQUEsTUFBQSxFQUFBeUIsU0FBQSxZQUFBLElBRUhzQixFQUFTL0MsRUFBRWMsSUFBSSxFQUFFSCxRQUFLLHVDQUFTLEVBQUFBLEtBQUEsU0FBQSxFQUUvQm9DLEVBQUMvQyxFQUFBYyxJQUFBLEVBQUFILEtBQUEsUUFBQSxFLEVBQ0hRLEtBQUssQ0FDTDJELElBQUFBLDJCQUNBbkUsT0FBTSxPLEtBQ0ZJLENBQ0FBLE9BQUEsYUFFQWdDLFFBQVFBLEVBQ1hBLE9BQUFBLENBQ0QxQixFLFFBQ1FDLFNBQVNELEdBQ1BDLEVBQUFELFFBQ0xyQixFQUFBLGtCQUFNLEVBQUF3QixLQUFBRixFQUFBWCxLQUFBb0UsT0FBQSxDQUliLENBQ04sQ0FBQSxFQUdOLENBQUEiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCl7XHJcblxyXG4gICAgLy8gc2Nyb2xsVG9wXHJcblxyXG4gICAgJCgnLnNjcm9sbC10b3AnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDYwMCk7IFxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBsb2FkIG1vcmVcclxuXHJcbiAgICAkKCcuc2VhcmNoLWZvcm0td3JhcCcpLnN1Ym1pdChmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5zZWFyY2gtZm9ybS1idG4nKS5jbGljaygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwYWdlID0gMTtcclxuXHJcblxyXG5cclxuICAgIC8vIEVuc3VyZSBubyBkdXBsaWNhdGUgZXZlbnQgbGlzdGVuZXJzIGFyZSBhdHRhY2hlZFxyXG4kKCcudGFnLWZpbHRlciBpbnB1dCwgLnNlYXJjaC1mb3JtLWJ0bicpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgaWYoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygndGFnLWZpbHRlci10YWItdGl0bGUnKSl7XHJcbiAgICAgICAgJCgnLnRhZy1maWx0ZXItdGFiLXRpdGxlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKCQoJy50YWctZmlsdGVyLXRhYi1wb3N0JykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAkKCcudGFiLWZpbHRlci1wb3N0LXdyYXAnKS5mYWRlSW4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLnRhYi1maWx0ZXItcG9zdC13cmFwJykuZmFkZU91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhZ2UgPSAxO1xyXG4gICAgZ2V0X3Jlc291cmNlc19saXN0KHBhZ2UsICQodGhpcykpO1xyXG59KTtcclxuXHJcblxyXG4kKCcubG9hZF9tb3JlLXBvc3QnKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgcGFnZSsrO1xyXG4gICAgZ2V0X3Jlc291cmNlc19saXN0KHBhZ2UsICQodGhpcykpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldF9yZXNvdXJjZXNfbGlzdChwYWdlLCBlbCkge1xyXG4gICAgdmFyIHNlYXJjaCA9ICQoJy5zZWFyY2gtZm9ybS1maWVsZCcpLnZhbCgpO1xyXG4gICAgdmFyIHRhZ3MgPSBbXTtcclxuICAgIHZhciB0eXBlcyA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBDb2xsZWN0IHNlbGVjdGVkIHRhZ3NcclxuICAgICQoJy50YWctZmlsdGVyIGlucHV0W25hbWU9XCJ0YWdzW11cIl06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRhZ3MucHVzaCgkKHRoaXMpLnZhbCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENvbGxlY3Qgc2VsZWN0ZWQgdHlwZXNcclxuICAgICQoJy50YWctZmlsdGVyIGlucHV0W25hbWU9XCJ0eXBlc1tdXCJdOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0eXBlcy5wdXNoKCQodGhpcykudmFsKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYodHlwZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICB0eXBlcyA9IFsncG9zdCcsICd2cG4nXTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAnYWN0aW9uJzogJ2xvYWRfbW9yZV9wb3N0cycsXHJcbiAgICAgICAgJ3BhZ2UnOiBwYWdlLFxyXG4gICAgICAgICdzZWFyY2gnOiBzZWFyY2gsXHJcbiAgICAgICAgJ3RhZ3MnOiB0YWdzLmpvaW4oJywnKSwgLy8gU2VuZCB0YWdzIGFzIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZ1xyXG4gICAgICAgICd0eXBlcyc6IHR5cGVzLmpvaW4oJywnKSAvLyBTZW5kIHR5cGVzIGFzIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZ1xyXG4gICAgfTtcclxuXHJcbiAgICAkKCcucG9zdF9sb29wJykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsXHJcbiAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICQoJy5wb3N0X21haW4tdGl0bGUtaDIgLnRpdGxlX2lubmVyIHNwYW4nKS50ZXh0KCQoJy5zZWFyY2gtZm9ybS1maWVsZCcpLnZhbCgpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaGFzX3Bvc3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmhhc0NsYXNzKCdjdXN0b20tY2hlY2tib3gtaW5wdXQnKSB8fCBlbC5oYXNDbGFzcygnc2VhcmNoLWZvcm0tYnRuJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBvc3RfbG9vcCcpLmh0bWwoJycpOyAvLyBDbGVhciBleGlzdGluZyBwb3N0c1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9zdF9sb29wJykuYXBwZW5kKHJlc3BvbnNlLmRhdGEucG9zdHMpOyAvLyBBcHBlbmQgbmV3IHBvc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRfbW9yZS1wb3N0Jykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkX21vcmUtcG9zdCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYocGFnZSA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9zdF9sb29wJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2FkX21vcmUtcG9zdCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJy5sb2FkX21vcmUtcG9zdCcpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQoJy5wb3N0X2xvb3AnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnLmxvYWRfbW9yZS1wb3N0JykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgYWxlcnQoJ0FuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4gICAgLy8gYWpheCBsb2FkIG1vcmUgY29tbWVudHNcclxuXHJcbiAgICB2YXIgcGFnZWQgPSAxOyAvLyBTdGFydCBmcm9tIHRoZSBzZWNvbmQgcGFnZVxyXG5cclxuICAgICQoJy5sb2FkX21vcmUtY29tbWVudHMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJ1dHRvbiA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHBvc3RJZCA9IGJ1dHRvbi5kYXRhKCdwb3N0LWlkJyk7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnbG9hZF9tb3JlX2NvbW1lbnRzJyxcclxuICAgICAgICAgICAgICAgIC8vIHNlY3VyaXR5OiBsb2FkTW9yZUNvbW1lbnRzLm5vbmNlLFxyXG4gICAgICAgICAgICAgICAgcG9zdF9pZDogcG9zdElkLFxyXG4gICAgICAgICAgICAgICAgcGFnZWQ6IHBhZ2VkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBidXR0b24udGV4dCgnTG9hZGluZy4uLicpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5jb21tZW50LWxpc3QnKS5hcHBlbmQocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VkKys7IC8vIEluY3JlbWVudCB0aGUgcGFnZSBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICBidXR0b24udGV4dCgnTG9hZCBNb3JlJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi50ZXh0KCdObyBNb3JlIENvbW1lbnRzJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGNvbW1lbnQgZm9ybVxyXG5cclxuICAgICQoJy5yYXRpbmctc3RhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmF0aW5nID0gJCh0aGlzKS5kYXRhKCdyYXRpbmcnKTtcclxuICAgICAgICAkKCcjY29tbWVudF9yYXRpbmcnKS52YWwocmF0aW5nKTsgLy8gU2V0IHRoZSByYXRpbmcgaW4gdGhlIGhpZGRlbiBpbnB1dFxyXG4gICAgICAgICQoJy5yYXRpbmctc3RhcicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOyAvLyBDbGVhciBwcmV2aW91cyBzZWxlY3Rpb25cclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpLnByZXZBbGwoKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsgLy8gQWRkIHNlbGVjdGVkIGNsYXNzIHRvIGNsaWNrZWQgc3RhclxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgdGhlIGZlZWRiYWNrIG1lc3NhZ2VcclxuICAgICAgICAkKCcjcmF0aW5nLWZlZWRiYWNrJykudGV4dCgnWW91IHNlbGVjdGVkICcgKyByYXRpbmcgKyAnIHN0YXInICsgKHJhdGluZyA+IDEgPyAncycgOiAnJykpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcImJvZHlcIikub24oXCJjbGlja1wiLCBcIi5jb21tZW50LWxpa2UtYnV0dG9uXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvblxyXG4gICAgXHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBcclxuICAgICAgICB2YXIgYnV0dG9uID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY29tbWVudElkID0gYnV0dG9uLmRhdGEoJ2NvbW1lbnQtaWQnKTtcclxuICAgIFxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgdXJsOiAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnbGlrZV9jb21tZW50JyxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRfaWQ6IGNvbW1lbnRJZCxcclxuICAgICAgICAgICAgICAgIC8vIG5vbmNlOiBsaWtlQ29tbWVudC5ub25jZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxpa2UgY291bnRlclxyXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbG9zZXN0KCcuY29tbWVudCcpLmZpbmQoJy5jb21tZW50LWFjdGlvbnMtbGlrZS1jb3VudGVyJykudGV4dChyZXNwb25zZS5kYXRhLmxpa2VfY291bnQgKyAnIGxpa2VkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOyAvLyBTaG93IGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuXHJcbiAgICAvLyBtZWRpYVxyXG4gICAgICAgICQoJ3RhYmxlJykud3JhcCgnPGRpdiBjbGFzcz1cInZwbi10YWJsZS13cmFwcGVyLWlubmVyXCI+PC9kaXY+Jykud3JhcCgnPGRpdiBjbGFzcz1cInZwbi10YWJsZS13cmFwcGVyXCI+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZV9tb2JpbGUoKXtcclxuICAgICAgICAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA3Njgpe1xyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcicpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImhlYWRlcl9uYXYtbW9iaWxlXCI+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHZhciBuYXYgPSAkKCcuaGVhZGVyX25hdicpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9ICQoJy5oZWFkZXJfYWN0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuaGVhZGVyX25hdi1tb2JpbGUnKS5hcHBlbmQobmF2KS5hcHBlbmQoYWN0aW9uKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcl9uYXYtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcuaGVhZGVyX25hdi1tb2JpbGUnKS50b2dnbGVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICQoJy5oZWFkZXJfbmF2LW1vYmlsZSB1bDpub3QoLnN1Yi1tZW51KSA+IGxpLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4gPiBhJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMpLm5leHQoJy5zdWItbWVudScpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgnLnN1Yi1tZW51JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgJCgnLmhlYWRlcl9uYXYtbW9iaWxlIHVsOm5vdCguc3ViLW1lbnUpID4gbGkubWVudS1pdGVtLWhhcy1jaGlsZHJlbicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5jaGlsZHJlbignLnN1Yi1tZW51JykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignLnN1Yi1tZW51JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJy5zdWItbWVudScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAkKCcuZm9vdGVyX2luZm8tc29jaWFscycpLmFwcGVuZFRvKCQoJy5mb290ZXJfdG9wJykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRlX21vYmlsZSgpO1xyXG4gICAgLy8gXHJcblxyXG4gICAgJCgnLmhlYWRlcl9hY3Rpb24tc2VhcmNoLXRvZ2dsZSwgLmhlYWRlcl9hY3Rpb24tbGFuZy10b2dnbGUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykubmV4dCgpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICB9KVxyXG5cclxuICAgICQoJypbZGF0YS10b2dnbGVdJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGlkID0gJCh0aGlzKS5kYXRhKCd0b2dnbGUnKTsgLy8gUmV0cmlldmUgdGhlIHZhbHVlIG9mIHRoZSBkYXRhLXRvZ2dsZSBhdHRyaWJ1dGVcclxuICAgICAgICAkKCcjJyArIGlkKS5zbGlkZVRvZ2dsZSgpOyAvLyBUb2dnbGUgdmlzaWJpbGl0eSBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkKCcuY29tbWVudC1mb3JtLWNvb2tpZXMtY29uc2VudCBpbnB1dCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcygnY2hlY2tlZCcpO1xyXG4gICAgfSlcclxuXHJcbiAgICAkKCcuZmFxX2l0ZW0taGVhZCcpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuc2xpZGVUb2dnbGUoKTtcclxuICAgIH0pXHJcblxyXG4gICAgdmFyIGluZGV4ID0gMTtcclxuICAgICQoJy5wb3N0X21haW4gaDInKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoJCh0aGlzKS5maW5kKCcudGl0bGVfaW5uZXInKS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSAkKHRoaXMpLmZpbmQoJy50aXRsZV9pbm5lcicpLnRleHQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudGV4dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0ZXh0ID09ICcnKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IFxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaWQgPSAnc2VjdGlvbi0nICsgaW5kZXg7XHJcbiAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAkKHRoaXMpLmF0dHIoJ2lkJyxpZCk7IFxyXG4gICAgICAgICQoJyN0b2MtbGlzdCcpLmFwcGVuZChgPGxpPjxhIGhyZWY9XCIjJHtpZH1cIj4ke3RleHR9PC9hPjwvbGlgKTtcclxuICAgIH0pXHJcblxyXG4gICAgaWYoJCgnLnBvc3RfYXNpZGUtY29udGVudHMtbGlzdC1zY3JvbGwnKS5oZWlnaHQoKSA8IDQzMil7XHJcbiAgICAgICAgJCgnLnBvc3RfYXNpZGUtY29udGVudHMtbGlzdC1zY3JvbGwnKS5wYXJlbnQoKS5hZGRDbGFzcygnc2Nyb2xsZWQtdG8tYm90dG9tJyk7XHJcbiAgICB9XHJcblxyXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCQodGhpcykuc2Nyb2xsVG9wKCkgPiAwKXtcclxuICAgICAgICAgICAgJCgnLnNjcm9sbC10b3Atd3JhcCcpLmZhZGVJbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5zY3JvbGwtdG9wLXdyYXAnKS5mYWRlT3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsaW5rcyA9ICQoJy5wb3N0X2FzaWRlLWNvbnRlbnRzLWxpc3Qtc2Nyb2xsIGEnKVxyXG4gICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTsgLy8gQ3VycmVudCBzY3JvbGwgcG9zaXRpb25cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzY3JvbGxQb3MpXHJcbiAgICAgICAgbGlua3MuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9ICQoJCh0aGlzKS5hdHRyKCdocmVmJykpOyAvLyBHZXQgdGhlIHRhcmdldCBzZWN0aW9uXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB0YXJnZXQgaXMgaW4gdmlld1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm9mZnNldCgpLnRvcCA8PSBzY3JvbGxQb3MgKyAxMCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5uZXh0QWxsKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJyk7IC8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gdGhlIGN1cnJlbnQgbGlua1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5wcmV2QWxsKCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZihzY3JvbGxQb3MgPiAwICYmICEkKCcjY29udGVudHMtbGlzdCcpLmhhc0NsYXNzKCd0b2dnbGVkX25hdicpICYmICEkKCdib2R5JykuaGFzQ2xhc3MoJ3NpbmdsZS12cG4nKSl7XHJcbiAgICAgICAgICAgICQoJyNjb250ZW50cy1saXN0JykuZmFkZU91dCgpLmFkZENsYXNzKCd0b2dnbGVkX25hdicpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pXHJcblxyXG4gICAgJCgnLnBvc3RfYXNpZGUtY29udGVudHMtbGlzdC1zY3JvbGwnKS5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyICRibG9jayA9ICQoJy5wb3N0X2FzaWRlLWNvbnRlbnRzLWxpc3Qtc2Nyb2xsJyk7IC8vIFRoZSBjb250YWluZXIgeW91J3JlIGNoZWNraW5nXHJcbiAgICAgICAgdmFyIHNjcm9sbEhlaWdodCA9ICRibG9ja1swXS5zY3JvbGxIZWlnaHQ7IC8vIFRvdGFsIGhlaWdodCBvZiB0aGUgY29udGVudFxyXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAkYmxvY2suc2Nyb2xsVG9wKCk7IC8vIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uIGZyb20gdGhlIHRvcFxyXG4gICAgICAgIHZhciBibG9ja0hlaWdodCA9ICRibG9jay5wYXJlbnQoKS5oZWlnaHQoKTsgLy8gSGVpZ2h0IG9mIHRoZSB2aXNpYmxlIHBhcnQgb2YgdGhlIGJsb2NrXHJcbiAgICAgICAgaWYgKHNjcm9sbFRvcCArIGJsb2NrSGVpZ2h0ID09IHNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgLy8gQWRkIGEgY2xhc3Mgd2hlbiBzY3JvbGxlZCB0byB0aGUgYm90dG9tXHJcbiAgICAgICAgICAkYmxvY2sucGFyZW50KCkuYWRkQ2xhc3MoJ3Njcm9sbGVkLXRvLWJvdHRvbScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNsYXNzIHdoZW4gbm90IGF0IHRoZSBib3R0b21cclxuICAgICAgICAgICRibG9jay5wYXJlbnQoKS5yZW1vdmVDbGFzcygnc2Nyb2xsZWQtdG8tYm90dG9tJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJyNjb21tZW50Zm9ybScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAvLyBZb3UgY2FuIHBlcmZvcm0gYW55IGNoZWNrcyBoZXJlIGlmIG5lZWRlZCAoZS5nLiwgdmFsaWRhdGlvbnMpXHJcbiAgICAgICAgLy8gSWYgdGhlIHBvc3QgdHlwZSBpcyAndnBuJywgcHJvY2VlZCB0byBoYW5kbGUgdGhlIHJhdGluZ1xyXG4gICAgICAgIGNvbnN0IHBvc3RUeXBlID0gJCgnYm9keScpLmhhc0NsYXNzKCdzaW5nbGUtdnBuJyk7IC8vIEVuc3VyZSB5b3VyIGZvcm0gaGFzIHRoaXMgZGF0YSBhdHRyaWJ1dGVcclxuXHJcbiAgICAgICAgaWYgKHBvc3RUeXBlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvc3RJRCA9ICQoJy5wb3N0X21haW4tYXV0aG9yLWRlc2NyLWFjdGlvbi1yYXRpbmcnKS5kYXRhKCdwb3N0LWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9ICQoJy5yYXRpbmctc3Rhci5zZWxlY3RlZCcpLmxhc3QoKS5kYXRhKCdyYXRpbmcnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJyxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3Zwbl9yYXRpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vbmNlOiB2cG5SYXRpbmcubm9uY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF9pZDogcG9zdElELFxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogcmF0aW5nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyYXRpbmctZmVlZGJhY2snKS50ZXh0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JhdGluZy1mZWVkYmFjaycpLnRleHQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAgICQoJy5yYXRpbmctc3RhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwb3N0VHlwZSA9ICQoJ2JvZHknKS5oYXNDbGFzcygnc2luZ2xlLXZwbicpO1xyXG4gICAgICAgIGlmKCFwb3N0VHlwZSl7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvc3RJRCA9ICQodGhpcykuY2xvc2VzdCgnLnBvc3RfbWFpbi1hdXRob3ItZGVzY3ItYWN0aW9uLXJhdGluZycpLmRhdGEoJ3Bvc3QtaWQnKTtcclxuICAgICAgICAgICAgY29uc3QgcmF0aW5nID0gJCh0aGlzKS5kYXRhKCdyYXRpbmcnKTtcclxuICAgIFxyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJyxcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3Zwbl9yYXRpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vbmNlOiB2cG5SYXRpbmcubm9uY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdF9pZDogcG9zdElELFxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogcmF0aW5nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyYXRpbmctZmVlZGJhY2snKS50ZXh0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3JhdGluZy1mZWVkYmFjaycpLnRleHQocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pIl19
